import{a as fe,_ as ae}from"./DSjhiX6b.js";import{g as me,_ as _e}from"./C4c5KvWI.js";import{_ as he}from"./DYEglXA6.js";import{_ as V}from"./BzpcGkdB.js";import{v as oe,d as L,o as v,e as E,g as o,x as U,y as j,j as B,h as _,i as N,l as H,c as x,z as ve,u as D,k as h,A as ge,F as M,B as ye,C as xe,D as S,E as ee,G as ke,H as be,I as we,b as le,J as $e,K as te,L as re,M as Se,N as F,s as Ee,T as Te,O as St,P as Ce,Q as Re,R as Ae,w as Le,S as ne,U as se}from"./CHLybBhA.js";import{h as Ie}from"./DvDH6DOc.js";import"./HjR1pUCk.js";import"./D0OKVzk5.js";import"./atVqaJyC.js";function Be(t=oe()){var e;return(e=t.ssrContext)==null?void 0:e.event}const Ne={class:"dark:xl:border-gray-700 pb-10 pt-6 xl:border-b xl:border-gray-200 xl:pt-11"},Oe=o("dt",{class:"sr-only"},"Authors",-1),je={class:"flex justify-center xl:block space-x-8 sm:space-x-12 xl:space-x-0 xl:space-y-8"},ze={class:"flex items-center space-x-2"},Pe={class:"text-sm font-medium leading-5 whitespace-nowrap"},Ue=o("dt",{class:"sr-only"},"Name",-1),De={key:0,class:"sr-only"},Me={key:1},Fe=L({__name:"TheAuthor",props:{twitter:{},gravatar:{},avatar:{},author:{}},setup(t){return(e,l)=>{const d=he,s=V;return v(),E("dl",Ne,[Oe,o("dd",null,[o("ul",je,[o("li",ze,[e.gravatar?(v(),U(d,{key:0,preset:"avatar",class:"w-10 h-10 rounded-3xl",alt:"author image",src:"https://gravatar.com/avatar/"+e.gravatar},null,8,["src"])):e.avatar?(v(),U(d,{key:1,preset:"avatar",class:"w-10 h-10 rounded-3xl",alt:"author image",src:e.avatar},null,8,["src"])):j("",!0),o("dl",Pe,[Ue,o("dd",null,B(e.author),1),e.twitter?(v(),E("dt",De,"Twitter")):j("",!0),e.twitter?(v(),E("dd",Me,[_(s,{target:"_blank",rel:"noopener noreferrer",class:"link",to:"https://twitter.com/"+e.twitter},{default:N(()=>[H(B(e.twitter),1)]),_:1},8,["to"])])):j("",!0)])])])])])}}}),Ve={key:1,class:"text-primary-600 dark:text-primary-200"},He=L({__name:"SidebarLinkItem",props:{item:{},header:{type:Boolean},table:{type:Boolean}},setup(t){const e=t,l=x(()=>({path:"",hash:e.item.link&&ve("#",e.item.link)})),d=x(()=>D().hash===l.value.hash);return(s,u)=>{const a=V;return h(l).hash?(v(),U(a,{key:0,to:h(l),class:ge([[h(d)?"font-semibold":"font-normal",""],"mt-2 text-primary-600 dark:text-primary-200 pl-1 text-base"])},{default:N(()=>[H(B(s.item.text),1)]),_:1},8,["to","class"])):(v(),E("span",Ve,B(s.item.text),1))}}}),Ke={key:0,class:"-ml-6 flex flex-col pl-2 py-4 lg:pt-4"},qe={class:"mb-2 pl-3 pt-3"},Ge={class:"flex justify-start ml-1 mt-4"},Je=o("span",null,"Back to top",-1),Ze=L({__name:"TableOfContents",props:{post:{type:Object,required:!0}},setup(t){const e=t,l=x(()=>{var p;if(!e.post)return[];const s=(p=e.post.body)==null?void 0:p.children;if(!s)return[];const u=[],a=["h2","h3","h4","h5","h6"];return s.forEach(r=>{a.includes(r.tag)&&u.push({link:r.props.id,text:r.props.id.toString().replace(/-/g," "),depth:Number(r.tag.replace(/h/g,""))})}),u}),d=()=>{window.scrollTo(0,0)};return(s,u)=>{const a=He,p=fe,r=ae;return t.post&&h(l)&&h(l).length>0?(v(),E("div",Ke,[_(a,{class:"pr-3 text-xs uppercase",header:"",item:{text:"On This Page",link:""}}),o("ul",qe,[(v(!0),E(M,null,ye(h(l),m=>(v(),E("li",{key:m.id},[_(a,{item:m,table:!0,class:"capitalize inline-block max-w-full truncate"},null,8,["item"])]))),128)),o("li",null,[xe(s.$slots,"default")]),o("li",null,[o("div",Ge,[_(r,{variant:"ghost",class:"flex font-medium text-sm",onClick:d},{default:N(()=>[Je,_(p,{name:"i-material-symbols-arrow-upward",class:"ml-1"})]),_:1})])])])])):j("",!0)}}}),Qe={trailing:!0};function We(t,e=25,l={}){if(l={...Qe,...l},!Number.isFinite(e))throw new TypeError("Expected `wait` to be a finite number");let d,s,u=[],a,p;const r=(m,i)=>(a=Xe(t,m,i),a.finally(()=>{if(a=null,l.trailing&&p&&!s){const T=r(m,p);return p=null,T}}),a);return function(...m){return a?(l.trailing&&(p=m),a):new Promise(i=>{const T=!s&&l.leading;clearTimeout(s),s=setTimeout(()=>{s=null;const C=l.leading?d:r(this,m);for(const g of u)g(C);u=[]},e),T?(d=r(this,m),i(d)):u.push(i)})}}async function Xe(t,e,l){return await t.apply(e,l)}const A="_islandPromises",Ye=/data-island-uid="([^"]*)"/,et=/data-island-uid(="")?(?!="[^"])/g,tt=/data-island-slot="([^"]*)"/g,nt=/ data-island-slot="([^"]*)"[^>]*>/g;let st=1;const at=()=>(st++).toString();const ot=L({name:"NuxtIsland",props:{name:{type:String,required:!0},lazy:Boolean,props:{type:Object,default:()=>{}},context:{type:Object,default:()=>({})},scopeId:{type:String,default:()=>{}},source:{type:String,default:()=>{}},dangerouslyLoadClientComponents:{type:Boolean,default:!1}},emits:["error"],async setup(t,{slots:e,expose:l,emit:d}){var q,G,J,Z,Q;let s=!1;const u=S(0),a=S(0),p=x(()=>ee),r=S(null),m=Ae(),i=oe(),T=x(()=>t.props?Object.fromEntries(Object.entries(t.props).filter(([c])=>!c.startsWith("data-v-"))):{}),C=x(()=>Ie([t.name,T.value,t.context,t.source])),g=re();Be();const ie=globalThis.fetch,K=S(!1);ke(()=>{K.value=!0,u.value++});function ce(c,n){const f={};n.props&&(f.props=n.props),n.slots&&(f.slots=n.slots),n.components&&(f.components=n.components),i.payload.data[c]={__nuxt_island:{key:c,params:{...t.context,props:t.props?JSON.stringify(t.props):void 0},result:f},...n}}const k={};if(g.vnode.el){const c=(q=be(i.payload.data[`${t.name}_${C.value}`]))==null?void 0:q.slots;c&&(k.slots=c)}const R=S("");if((G=g.vnode)!=null&&G.el){R.value=((J=we(g.vnode.el,!0))==null?void 0:J.join(""))||"";const c=`${t.name}_${C.value}`;(Z=i.payload.data)[c]||(Z[c]={}),i.payload.data[c].html=R.value}const b=S(((Q=R.value.match(Ye))==null?void 0:Q[1])??at()),ue=x(()=>[...R.value.matchAll(tt)].map(c=>c[1])),z=x(()=>{const c=Object.keys(e);let n=R.value;if(t.scopeId&&(n=n.replace(/^<[^> ]*/,f=>f+" "+t.scopeId)),!p.value)for(const[f,w]of Object.entries(k.components||{}))n=n.replace(new RegExp(` data-island-uid="${b.value}" data-island-component="${f}"[^>]*>`),y=>y+w.html);return k.slots?n.replaceAll(nt,(f,w)=>{var y,$;return c.includes(w)?f:f+((($=(y=k.slots)==null?void 0:y[w])==null?void 0:$.fallback)||"")}):n}),P=S({link:[],style:[]});le(P);async function de(c=!1){var $;const n=`${t.name}_${C.value}`;if(!c&&(($=i.payload.data[n])!=null&&$.html))return i.payload.data[n];const f=`/__nuxt_island/${n}.json`,y=await(await ie(Ce(t.source?f:Re(m.app.baseURL??"",f),{...t.context,props:t.props?JSON.stringify(t.props):void 0}))).json();return ce(n,y),y}async function O(c=!1){i[A]=i[A]||{},i[A][b.value]||(i[A][b.value]=de(c).finally(()=>{delete i[A][b.value]}));try{const n=await i[A][b.value];P.value.link=n.head.link,P.value.style=n.head.style,R.value=n.html.replaceAll(et,`data-island-uid="${b.value}"`),a.value++,r.value=null,k.slots=n.slots||{},k.components=n.components||{},Se(()=>{s=!0,u.value++})}catch(n){r.value=n,d("error",n)}}return l({refresh:()=>O(!0)}),$e(t,We(()=>O(),100),{deep:!0}),!g.vnode.el&&t.lazy?O():(!g.vnode.el||!i.payload.serverRendered)&&await O(),(c,n)=>{var f;return!z.value||r.value?[((f=e.fallback)==null?void 0:f.call(e,{error:r.value}))??_("div")]:[te([a.value],()=>_(M,{key:a.value},[F(Ee(z.value||"<div></div>",1))]),n,0),te([u.value],()=>{var $;const w=[],y=u.value===0||!!(u.value&&!(u.value%2));if(b.value&&z.value&&(t.lazy?s:K.value||($=g.vnode)!=null&&$.el))for(const I in e)ue.value.includes(I)&&w.push(_(Te,{to:`${y?"div":""}[data-island-uid="${b.value}"][data-island-slot="${I}"]`},{default:()=>{var W,X;return((X=(W=k.slots)==null?void 0:W[I].props)!=null&&X.length?k.slots[I].props:[{}]).map(pe=>{var Y;return(Y=e[I])==null?void 0:Y.call(e,pe)})}}));return F(M,w)},n,1)]}}}),lt=t=>L({name:t,inheritAttrs:!1,props:{lazy:Boolean},emits:["error"],setup(e,{attrs:l,slots:d,expose:s,emit:u}){const a=re(),p=S(null);return s({refresh:()=>{var r;return(r=p.value)==null?void 0:r.refresh()}}),()=>F(ot,{name:t,lazy:e.lazy,props:l,scopeId:a==null?void 0:a.vnode.scopeId,ref:p,onError:r=>{u("error",r)}},d)}}),rt=lt("StaticMarkdown"),it={class:"mt-12 mx-auto px-4 w-full"},ct={class:"flex flex-col p-4 rounded-lg"},ut={class:"dark:xl:divide-gray-700 xl:divide-gray-200 xl:divide-y"},dt={class:"pt-6 relative space-y-1 text-center xl:pb-10"},pt={class:"flex justify-center mb-4 lg:absolute lg:justify-start"},ft=o("span",null,"<- Go Back",-1),mt={class:"dark:divide-gray-700 divide-gray-200 divide-y pb-16 xl:divide-y-0 xl:gap-x-10 xl:grid xl:grid-cols-4 xl:pb-20 xl:sticky",style:{"grid-template-rows":"auto 1fr"}},_t={class:"p-4 rounded-xl xl:hidden xl:sticky xl:top-28"},ht={class:"hidden pl-8 pr-4 py-4 rounded-xl xl:block xl:sticky xl:top-28 bg-neutral-50 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-100"},vt={class:"dark:divide-gray-700 divide-gray-200 divide-y xl:col-span-3 xl:pb-0 xl:row-span-2"},gt={class:"hidden"},yt={class:"dark:divide-gray-700 divide-gray-200 divide-y font-medium leading-5 text-sm xl:col-start-1 xl:row-start-2"},At=L({__name:"[slug]",async setup(t){let e,l;const d=D().params.slug.toString().replace(/,/g,"/")||D().name.toString().replace(/,/g,"/"),s=([e,l]=Le(()=>me("news",d)),e=await e,l(),e),u=x(()=>{const{twitter:a,avatar:p,gravatar:r,author:m}=s.value;return{twitter:a,avatar:p,gravatar:r,author:m}});return le({title:()=>{var a;return(a=s.value)==null?void 0:a.title}}),(a,p)=>{const r=ae,m=_e,i=Fe,T=Ze,C=rt,g=V;return v(),E("section",null,[o("div",it,[o("div",ct,[o("article",ut,[o("header",dt,[o("div",pt,[_(r,{to:"/news"},{default:N(()=>[ft]),_:1})]),o("div",null,[_(m,{date:h(s).date},null,8,["date"]),o("h1",null,B(h(s).title),1)])]),o("div",mt,[o("div",_t,[_(i,ne(se(h(u))),null,16)]),o("div",ht,[_(i,ne(se(h(u))),null,16),_(T,{post:h(s),class:"hidden xl:block"},null,8,["post"])]),o("div",vt,[_(C,{base:"news",path:h(d)},null,8,["path"])]),o("div",gt,[o("footer",yt,[_(g,{class:"block pt-8",to:"/news"},{default:N(()=>[H("Back to the news ")]),_:1})])])])])])])])}}});export{At as default};
